---
title: "Vuepressの構成"
---

VuePress がどのような構成で作られているか、軽く見ておきましょう。

# トップページを見てみる

トップページについて見てみましょう。
トップページは次のようなデザインになっています。

![](https://github.com/wataru72v/zenn/raw/main/books/wataru72v-vuepress-portfolio/image/toppage.png?version=1)

このページは`index.md`から構成されています。

Cloud Shell Editorで普通にMarkdownファイルを開くとPreviewモードになてしまうので、
次の手順でコードが見える形で開くようにしてください。

- 対象ファイルで右クリック
- Open With > Code Editor の順位クリック

![](https://github.com/wataru72v/zenn/raw/main/books/wataru72v-vuepress-portfolio/image/markdown.png?version=1)

```markdown:~/portfolio/docs/src/index.md
---
home: true
heroImage: https://v1.vuepress.vuejs.org/hero.png
tagline: portfolio site
actionText: Quick Start →
actionLink: /guide/
features:
- title: Feature 1 Title
  details: Feature 1 Description
- title: Feature 2 Title
  details: Feature 2 Description
- title: Feature 3 Title
  details: Feature 3 Description
footer: Made by wataru with ❤️
---
```

`home:true`とすることでこのファイルをトップページとして使うことができるようになります。
他のパラメータがトップページの各パーツを構成しています。

# guide ページ、config ページを見てみる

サンプルページについて見てみましょう。
各ページは次のようなデザインになっています。

![](https://github.com/wataru72v/zenn/raw/main/books/wataru72v-vuepress-portfolio/image/page.png?version=1)

guide ページは`README.md`と`using-vue.md`の二つのファイルから構成されています。

```markdown:~/portfolio/docs/src/guide/README.md
# Introduction

VuePress is composed of two parts: a [minimalistic static site generator](https://github.com/vuejs/vuepress/tree/master/packages/%40vuepress/core) with a Vue-powered [theming system](https://v1.vuepress.vuejs.org/theme/) and [Plugin API](https://v1.vuepress.vuejs.org/plugin/), and a [default theme](https://v1.vuepress.vuejs.org/theme/default-theme-config.html) optimized for writing technical documentation. It was created to support the documentation needs of Vue's own sub projects.

Each page generated by VuePress has its own pre-rendered static HTML, providing great loading performance and is SEO-friendly. Once the page is loaded, however, Vue takes over the static content and turns it into a full Single-Page Application (SPA). Additional pages are fetched on demand as the user navigates around the site.
```

```markdown:~/portfolio/docs/src/guide/using-vue.md
# Using Vue in Markdown

## Browser API Access Restrictions

Because VuePress applications are server-rendered in Node.js when generating static builds, any Vue usage must conform to the [universal code requirements](https://ssr.vuejs.org/en/universal.html). In short, make sure to only access Browser / DOM APIs in `beforeMount` or `mounted` hooks.

If you are using or demoing components that are not SSR friendly (for example containing custom directives), you can wrap them inside the built-in `<ClientOnly>` component:

##
```

config ページは`README.md`から構成されています。

```markdown:~/portfolio/docs/src/config/README.md
---
sidebar: auto
---

# Config

## foo

- Type: `string`
- Default: `/`

## bar

- Type: `string`
- Default: `/`
```

markdown が整形されて表示されていますね。
また、ページごとの見出しをサイドバーに並べることも可能で、
設定ファイルに記述する方法と、`sidebar: auto`を使う方法があります。

# 設定ファイルを見てみる

設定ファイルは`.vuepress/config.js`に記述されています。

Cloud Shell Editor では検索から開く必要があるので以下の手順を実行します。

::: messages
Cloud Shell Editor は`.vuepress`のような隠しフォルダはファイルツリーに表示されないようです。
(表示させるような設定も現時点では無いようです、なんで...)
:::

- **Search** のアイコンをクリックします。
- 検索窓に **themeConfig** と入力します。
- `config.js` がヒットするはずなのでそれをクリックして開きます。

![](https://github.com/wataru72v/zenn/raw/main/books/wataru72v-vuepress-portfolio/image/config.png?version=1)

設定ファイルの全文はこちらになります。(長いのでしまっています)

:::details 設定ファイル全文

```js:~/portfolio/docs/src/.vuepress/config.js
const { description } = require("../../package");

module.exports = {
  title: "Vuepress Docs Boilerplate",
  description: description,

  head: [
    ["meta", { name: "theme-color", content: "#3eaf7c" }],
    ["meta", { name: "apple-mobile-web-app-capable", content: "yes" }],
    [
      "meta",
      { name: "apple-mobile-web-app-status-bar-style", content: "black" },
    ],
  ],

  themeConfig: {
    repo: "",
    editLinks: false,
    docsDir: "",
    editLinkText: "",
    lastUpdated: false,
    nav: [
      {
        text: "Guide",
        link: "/guide/",
      },
      {
        text: "Config",
        link: "/config/",
      },
      {
        text: "VuePress",
        link: "https://v1.vuepress.vuejs.org",
      },
    ],
    sidebar: {
      "/guide/": [
        {
          title: "Guide",
          collapsable: false,
          children: ["", "using-vue"],
        },
      ],
    },
  },

  plugins: ["@vuepress/plugin-back-to-top", "@vuepress/plugin-medium-zoom"],
};
```

:::

今回設定を変更するナビバーとサイドバーの部分を抜き出してみてます。

```js:~/portfolio/docs/src/.vuepress/config.js(抜粋)
  themeConfig: {
    repo: "",
    editLinks: false,
    docsDir: "",
    editLinkText: "",
    lastUpdated: false,
    nav: [
      {
        text: "Guide",
        link: "/guide/",
      },
      {
        text: "Config",
        link: "/config/",
      },
      {
        text: "VuePress",
        link: "https://v1.vuepress.vuejs.org",
      },
    ],
    sidebar: {
      "/guide/": [
        {
          title: "Guide",
          collapsable: false,
          children: ["", "using-vue"],
        },
      ],
    },
  },
```

`nav`という要素がページの右上に表示されているメニュー(ナビバー)、
`sidebar`という要素がページの左に表示されているメニュー(サイドバー)の設定になります。

![](https://github.com/wataru72v/zenn/raw/main/books/wataru72v-vuepress-portfolio/image/menubar.png?version=1)

- nav
  ナビバーに表示されるリンクテキストとリンク先のパスが記述されています。
  `/guide/`と指定することで`~/portfolio/docs/src/guide/README.md`が読み込まれます。
- sidebar
  サイドバーに表示されるファイルが記述されています。
  `README.md`以外のファイルも読み込ませることができます。
  ここでは`~/portfolio/docs/src/guide/using-vue.md`が子要素として追加されています。

::: details ディレクトリ構成再掲

```sh
portfolio/
└── docs
    ├── .npmignore
    ├── package.json
    └── src
        ├── 'config' ------------------ 📄 configページ
        │   └── README.md
        ├── 'guide' ------------------- 📄 guideページ
        │   ├── README.md
        │   └── using-vue.md
        ├── 'index.md' ---------------- 🏠 Welcomeページ
        └── '.vuepress' --------------- 📗 メタデータ
            ├── components
            │   ├── demo-component.vue
            │   ├── Foo
            │   │   └── Bar.vue
            │   └── OtherComponent.vue
            ├── 'config.js' ----------- ⚙️ 設定
            ├── enhanceApp.js
            └── styles
                ├── index.styl
                └── palette.styl
```

:::

他詳しい設定については[ドキュメントの Default Theme Config](https://v1.vuepress.vuejs.org/theme/default-theme-config.html)を確認してください。
